# 🏆 [프로젝트] 1:1 온라인 대전 격투 게임 'Battle Rogue'

- **프로젝트 기간:** 8주
- **팀명:** 전문박사팀
- **사용 기술:** `Unreal Engine 5`, `Blueprint`, `Dedicated Server`, `Mixamo`

---

## 🌟 주요 성과: 완성도 부문 우수 프로젝트로 선정 (공동 2위)

본 프로젝트는 기말 프로젝트 평가에서 그래픽, 사운드, 상호작용 등 게임의 전반적인 완성도를 종합적으로 평가하는 '완성도 부문'에서 우수 프로젝트(공동 2위)로 선정되며 그 기술적 완성도와 플레이 경험을 공식적으로 인정받았습니다.

---

## 📌 프로젝트 목표

언리얼 엔진의 블루프린트와 데디케이티드 서버(Dedicated Server) 아키텍처를 기반으로, 두 명의 플레이어가 IP 주소로 서버에 접속해 실시간으로 1:1 대전을 벌이는 온라인 격투 게임을 개발합니다.

---

## 🛠️ 나의 역할: 핵심 게임플레이 시스템 프로그래머

저는 팀의 **게임플레이 프로그래머**로서, 사용자의 플레이 경험과 직접적으로 연결되는 **캐릭터의 모든 상태와 동작, 그리고 전투 시스템의 핵심 로직을 전담하여 설계 및 구현**했습니다.

### 1. 플레이어 상태 머신(State Machine) 아키텍처 설계
- **기여:** `이동`, `공격`, `피격`, `사망` 등 캐릭터의 모든 행동을 **상태 머신 패턴**으로 추상화하여 설계했습니다. 이를 통해 복잡한 캐릭터 로직의 **결합도(Coupling)는 낮추고 응집도(Cohesion)는 높여**, 기능 추가 및 디버깅이 용이한 안정적인 구조를 구축했습니다.

### 2. 애니메이션 블루프린트 연동 및 최적화
- **기여:** Mixamo에서 가져온 30여 종의 애니메이션 에셋을 '상태 머신'의 각 상태(State)와 정확히 연동했습니다. `Blend Spaces`를 활용하여 정지-걷기-달리기 상태가 부드럽게 전환되도록 구현했으며, 불필요한 애니메이션 전환을 최소화하여 시스템 리소스 사용을 최적화했습니다.

**[작업 과정: 애니메이션 몽타주]**
<p align="center">
  <img src="./assets/anim-montage-process.gif" alt="애니메이션 몽타주 작업 과정" width="700"/>
  <br/>
  <i>좌우 펀치 애니메이션을 하나의 몽타주로 결합하고, 노티파이(Notify)를 이용해 타격 판정 시점을 설정하는 과정</i>
</p>

### 3. 서버-클라이언트 간 전투 시스템 동기화
- **기여:** 데디케이티드 서버 환경에서 플레이어의 HP, MP, 필살기 게이지 등 **핵심 전투 데이터가 서버에 의해서만 변경(Server-Authoritative)**되도록 로직을 설계했습니다. 타격 판정은 서버 RPC로 처리하고, 그 결과(데미지, UI 변경)만을 각 클라이언트에 전송(Multicast)하여 모든 사용자가 일관된 전투 경험을 하도록 네트워크 동기화를 구현했습니다.

---

## 🌱 문제 해결 및 성장 경험 (Troubleshooting)

- **문제점:** 개발 초기, 클라이언트 A가 공격했을 때 클라이언트 B의 화면에서는 피격 애니메이션은 재생되지만, 실제 HP는 줄어들지 않는 **데이터 불일치 문제**가 발생했습니다.
- **해결 과정:** 언리얼 엔진의 네트워크 프로파일러와 로그를 분석하여 문제의 원인이 '타격 판정' 로직이 각 클라이언트에서 개별적으로 실행되었기 때문임을 파악했습니다. 이를 해결하기 위해, 모든 타격 판정 로직을 `Run on Server` RPC 이벤트로 이전하여 **서버에서만 판정을 내리고, 그 결과만을 `Multicast` RPC로 모든 클라이언트에 전파**하는 '서버 권위적(Server-Authoritative)' 구조로 리팩토링했습니다. 이 경험을 통해 안정적인 온라인 게임을 위한 네트워크 아키텍처 설계의 중요성을 깊이 체감할 수 있었습니다.

---

## 🎬 Demo

<p align="left">
  <img src="./assets/fighting-game-demo.gif" alt="온라인 격투 게임 플레이 화면" width="600"/>
  <br/>
  <i>온라인 1:1 격투 게임 실제 플레이 화면</i>
</p>

---
> ↩️ **[전체 학습 아카이브로 돌아가기](https://github.com/jihun-moon/daegu-univ-cs)**
